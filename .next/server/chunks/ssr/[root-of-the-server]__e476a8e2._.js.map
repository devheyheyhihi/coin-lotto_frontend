{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///Users/sinseonghyeon/Documents/GitHub/01-blockchain-projects/maxpia-project/coin_lotto/frontend/src/components/Header.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { usePathname } from 'next/navigation';\n\ninterface HeaderProps {\n  account: string | null;\n  balance: number;\n  connectWallet: () => void;\n}\n\nconst Header = ({ account, balance, connectWallet }: HeaderProps) => {\n  const pathname = usePathname();\n  const baseButtonStyle = \"rounded-[21px] flex-shrink-0 font-bold flex items-center justify-center text-sm w-auto px-4 h-[32px] md:text-base md:h-[34px]\";\n  \n  const buttonStyle = account\n    ? `${baseButtonStyle} border border-white bg-gradient-to-r from-[#1AEBA9] to-[#384FC0] shadow-[0_4px_4px_0_rgba(0,0,0,0.25)]`\n    : `${baseButtonStyle} bg-black w-[110px] md:w-[139px]`;\n\n\n  return (\n    <header className=\"flex items-center justify-between px-4 py-6 md:px-[8.33vw] md:py-[5.5vh]\">\n      <Link href=\"/\" className=\"cursor-pointer\">\n        <Image\n          src=\"/header_logo.svg\"\n          alt=\"TetherLuck Logo\"\n          width={135}\n          height={40}\n          className=\"h-auto w-[120px] md:w-[10vw]\"\n        />\n      </Link>\n      <nav className=\"flex items-center space-x-2 md:space-x-4\">\n        <Link href=\"/how-to-play\" className=\"text-sm text-white hover:text-gray-300 md:text-base md:hover:text-white\">\n          Ï∞∏Ïó¨ Î∞©Î≤ï\n        </Link>\n\n        {account ? (\n            <div className=\"flex items-center space-x-2\">\n                <div className={`${baseButtonStyle} bg-black/50 border border-gray-600`}>\n                    <span>{balance.toFixed(2)} USDT</span>\n                </div>\n                <button\n                    onClick={() => { if (pathname === '/') connectWallet(); }}\n                    className={`${buttonStyle} min-w-[120px]`}\n                >\n                    {pathname.startsWith('/room/') ? `${account.substring(0, 6)}...${account.slice(-4)}` : 'Í≤åÏûÑ ÏãúÏûë'}\n                </button>\n            </div>\n        ) : (\n            <button\n              onClick={connectWallet}\n              className={buttonStyle}\n            >\n              ÏßÄÍ∞ë Ïó∞Í≤∞\n            </button>\n        )}\n      </nav>\n    </header>\n  );\n};\n\nexport default Header; "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAYA,MAAM,SAAS,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,aAAa,EAAe;IAC9D,MAAM,WAAW,CAAA,GAAA,kIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,kBAAkB;IAExB,MAAM,cAAc,UAChB,GAAG,gBAAgB,uGAAuG,CAAC,GAC3H,GAAG,gBAAgB,gCAAgC,CAAC;IAGxD,qBACE,8OAAC;QAAO,WAAU;;0BAChB,8OAAC,4JAAA,CAAA,UAAI;gBAAC,MAAK;gBAAI,WAAU;0BACvB,cAAA,8OAAC,6HAAA,CAAA,UAAK;oBACJ,KAAI;oBACJ,KAAI;oBACJ,OAAO;oBACP,QAAQ;oBACR,WAAU;;;;;;;;;;;0BAGd,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAe,WAAU;kCAA0E;;;;;;oBAI7G,wBACG,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAW,GAAG,gBAAgB,mCAAmC,CAAC;0CACnE,cAAA,8OAAC;;wCAAM,QAAQ,OAAO,CAAC;wCAAG;;;;;;;;;;;;0CAE9B,8OAAC;gCACG,SAAS;oCAAQ,IAAI,aAAa,KAAK;gCAAiB;gCACxD,WAAW,GAAG,YAAY,cAAc,CAAC;0CAExC,SAAS,UAAU,CAAC,YAAY,GAAG,QAAQ,SAAS,CAAC,GAAG,GAAG,GAAG,EAAE,QAAQ,KAAK,CAAC,CAAC,IAAI,GAAG;;;;;;;;;;;iFAI/F,8OAAC;wBACC,SAAS;wBACT,WAAW;kCACZ;;;;;;;;;;;;;;;;;;AAOb;uCAEe","debugId":null}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file:///Users/sinseonghyeon/Documents/GitHub/01-blockchain-projects/maxpia-project/coin_lotto/frontend/src/components/WinnerInfoBar.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\n\nconst API_BASE_URL = 'http://localhost:3001';\n\ninterface Room {\n    id: string;\n    name: string;\n    ticketPrice: string;\n}\n\ninterface WinnerData {\n    [roundId: string]: {\n        [roomId: string]: {\n            winner: string;\n            prizePool: string;\n        }\n    }\n}\n\nconst WinnerInfoBar = () => {\n    const [rounds, setRounds] = useState<number[]>([]);\n    const [rooms, setRooms] = useState<Room[]>([]);\n    const [winnerData, setWinnerData] = useState<WinnerData>({});\n    \n    const [currentRoundIndex, setCurrentRoundIndex] = useState(0);\n    const [currentRoomIndex, setCurrentRoomIndex] = useState(0);\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const response = await fetch(`${API_BASE_URL}/winner-bar-data`);\n                if (!response.ok) throw new Error('Failed to fetch data');\n                const data = await response.json();\n                \n                // Sort rooms by ticket price ascending\n                const sortedRooms = data.rooms.sort((a: Room, b: Room) => parseFloat(a.ticketPrice) - parseFloat(b.ticketPrice));\n\n                setRounds(data.rounds); // Already sorted DESC from backend\n                setRooms(sortedRooms);\n                setWinnerData(data.winnerData);\n            } catch (error) {\n                console.error(\"Error fetching winner bar data:\", error);\n            }\n        };\n        fetchData();\n    }, []);\n\n    const handleRoundChange = (direction: 'prev' | 'next') => {\n        if (direction === 'prev') {\n            setCurrentRoundIndex(prev => Math.min(prev + 1, rounds.length - 1));\n        } else {\n            setCurrentRoundIndex(prev => Math.max(prev - 1, 0));\n        }\n    };\n\n    const handleRoomChange = (direction: 'prev' | 'next') => {\n        if (direction === 'prev') {\n            setCurrentRoomIndex(prev => (prev - 1 + rooms.length) % rooms.length);\n        } else {\n            setCurrentRoomIndex(prev => (prev + 1) % rooms.length);\n        }\n    };\n\n    const currentRound = rounds[currentRoundIndex];\n    const prevRound = rounds[currentRoundIndex + 1];\n    const nextRound = rounds[currentRoundIndex - 1];\n    \n    const currentRoom = rooms[currentRoomIndex];\n\n    const currentWinnerInfo = currentRound && currentRoom ? winnerData[currentRound]?.[currentRoom.id] : null;\n\n    if (rounds.length === 0 || rooms.length === 0) {\n        return <div className=\"mx-auto flex w-full h-14 items-center justify-center bg-gray-800 text-gray-500\">Loading Winner Data...</div>;\n    }\n\n    return (\n        <div className=\"mx-auto flex w-full flex-col items-center gap-2 border-t-2 border-[#33B8D7] bg-gradient-to-t from-black/[.72] to-[#1830C9] px-4 py-2 font-['Pretendard'] font-extrabold leading-normal shadow-[inset_0_4px_4px_0_rgba(0,0,0,0.25),0_-5px_4px_0_rgba(0,0,0,0.25)] md:h-14 md:flex-row md:justify-between md:px-[5vw] md:py-0\">\n            {/* ÌöåÏ∞® ÏÑ†ÌÉù */}\n            <div className=\"flex items-center space-x-2 sm:space-x-4 md:space-x-6\">\n                <button onClick={() => handleRoundChange('next')} className=\"text-xl text-[#8CFBFF]\">‚óÄ</button>\n                {nextRound && <span className=\"hidden text-sm text-[#AAAAA5] sm:inline\">ÌöåÏ∞® {nextRound}Ìöå</span>}\n                <span className=\"text-xl text-[#8CFBFF]\">ÌöåÏ∞® {currentRound}Ìöå</span>\n                {prevRound && <span className=\"hidden text-sm text-[#AAAAA5] sm:inline\">ÌöåÏ∞® {prevRound}Ìöå</span>}\n                <button onClick={() => handleRoundChange('prev')} className=\"text-xl text-[#8CFBFF]\">‚ñ∂</button>\n            </div>\n\n            {/* ÎãπÏ≤®Ïûê Ï†ïÎ≥¥ */}\n            <div className=\"flex flex-wrap items-center justify-center gap-x-4 gap-y-1 md:justify-end md:gap-x-6 lg:gap-x-10\">\n                <div className=\"flex items-center space-x-4\">\n                    <button onClick={() => handleRoomChange('prev')} className=\"text-xl text-[#8CFBFF]\">‚óÄ</button>\n                    <span className=\"text-base\">{currentRoom.name}</span>\n                    <button onClick={() => handleRoomChange('next')} className=\"text-xl text-[#8CFBFF]\">‚ñ∂</button>\n                </div>\n                {currentWinnerInfo ? (\n                    <>\n                        <span className=\"text-xl text-yellow-400\">üèÜ Winner</span>\n                        <span className=\"text-base\">{`${currentWinnerInfo.winner.substring(0, 6)}...${currentWinnerInfo.winner.slice(-4)}`}</span>\n                        <span className=\"text-base\">{parseFloat(currentWinnerInfo.prizePool).toFixed(2)} USDT</span>\n                    </>\n                ) : (\n                    <span className=\"text-base text-gray-500\">No winner for this round/room</span>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default WinnerInfoBar; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 371, "column": 0}, "map": {"version":3,"sources":["file:///Users/sinseonghyeon/Documents/GitHub/01-blockchain-projects/maxpia-project/coin_lotto/frontend/src/components/Timer.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\n\ninterface TimerProps {\n  deadline: string | null;\n  containerClassName?: string;\n  digitClassName?: string;\n}\n\nconst Timer = ({ deadline, containerClassName, digitClassName }: TimerProps) => {\n  const [timeLeft, setTimeLeft] = useState({\n    hours: '--',\n    minutes: '--',\n    seconds: '--',\n  });\n\n  useEffect(() => {\n    if (!deadline) {\n      setTimeLeft({ hours: '--', minutes: '--', seconds: '--' });\n      return;\n    }\n\n    const interval = setInterval(() => {\n      const now = new Date();\n      const deadlineTime = new Date(deadline);\n      const diff = deadlineTime.getTime() - now.getTime();\n\n      if (diff <= 0) {\n        setTimeLeft({ hours: '00', minutes: '00', seconds: '00' });\n        clearInterval(interval);\n        return;\n      }\n\n      const hours = Math.floor(diff / (1000 * 60 * 60));\n      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\n      const seconds = Math.floor((diff % (1000 * 60)) / 1000);\n\n      setTimeLeft({\n        hours: String(hours).padStart(2, '0'),\n        minutes: String(minutes).padStart(2, '0'),\n        seconds: String(seconds).padStart(2, '0'),\n      });\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, [deadline]);\n\n  const totalSecondsLeft = deadline ? (new Date(deadline).getTime() - new Date().getTime()) / 1000 : 0;\n\n  return (\n    <div className={containerClassName}>\n      <p className={`${digitClassName} ${totalSecondsLeft < 3600 ? 'text-gray-100' : ''}`}>{timeLeft.hours}</p>:\n      <p className={`${digitClassName} ${totalSecondsLeft < 60 ? 'text-gray-100' : ''}`}>{timeLeft.minutes}</p>:\n      <p className={`${digitClassName} ${totalSecondsLeft <= 0 ? 'text-gray-100' : ''}`}>{timeLeft.seconds}</p>\n    </div>\n  );\n};\n\nexport default Timer; "],"names":[],"mappings":";;;;AAEA;AAFA;;;AAUA,MAAM,QAAQ,CAAC,EAAE,QAAQ,EAAE,kBAAkB,EAAE,cAAc,EAAc;IACzE,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QACvC,OAAO;QACP,SAAS;QACT,SAAS;IACX;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,UAAU;YACb,YAAY;gBAAE,OAAO;gBAAM,SAAS;gBAAM,SAAS;YAAK;YACxD;QACF;QAEA,MAAM,WAAW,YAAY;YAC3B,MAAM,MAAM,IAAI;YAChB,MAAM,eAAe,IAAI,KAAK;YAC9B,MAAM,OAAO,aAAa,OAAO,KAAK,IAAI,OAAO;YAEjD,IAAI,QAAQ,GAAG;gBACb,YAAY;oBAAE,OAAO;oBAAM,SAAS;oBAAM,SAAS;gBAAK;gBACxD,cAAc;gBACd;YACF;YAEA,MAAM,QAAQ,KAAK,KAAK,CAAC,OAAO,CAAC,OAAO,KAAK,EAAE;YAC/C,MAAM,UAAU,KAAK,KAAK,CAAC,AAAC,OAAO,CAAC,OAAO,KAAK,EAAE,IAAK,CAAC,OAAO,EAAE;YACjE,MAAM,UAAU,KAAK,KAAK,CAAC,AAAC,OAAO,CAAC,OAAO,EAAE,IAAK;YAElD,YAAY;gBACV,OAAO,OAAO,OAAO,QAAQ,CAAC,GAAG;gBACjC,SAAS,OAAO,SAAS,QAAQ,CAAC,GAAG;gBACrC,SAAS,OAAO,SAAS,QAAQ,CAAC,GAAG;YACvC;QACF,GAAG;QAEH,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;KAAS;IAEb,MAAM,mBAAmB,WAAW,CAAC,IAAI,KAAK,UAAU,OAAO,KAAK,IAAI,OAAO,OAAO,EAAE,IAAI,OAAO;IAEnG,qBACE,8OAAC;QAAI,WAAW;;0BACd,8OAAC;gBAAE,WAAW,GAAG,eAAe,CAAC,EAAE,mBAAmB,OAAO,kBAAkB,IAAI;0BAAG,SAAS,KAAK;;;;;;YAAK;0BACzG,8OAAC;gBAAE,WAAW,GAAG,eAAe,CAAC,EAAE,mBAAmB,KAAK,kBAAkB,IAAI;0BAAG,SAAS,OAAO;;;;;;YAAK;0BACzG,8OAAC;gBAAE,WAAW,GAAG,eAAe,CAAC,EAAE,oBAAoB,IAAI,kBAAkB,IAAI;0BAAG,SAAS,OAAO;;;;;;;;;;;;AAG1G;uCAEe","debugId":null}},
    {"offset": {"line": 462, "column": 0}, "map": {"version":3,"sources":["file:///Users/sinseonghyeon/Documents/GitHub/01-blockchain-projects/maxpia-project/coin_lotto/frontend/src/components/EntrySection.tsx"],"sourcesContent":["'use client';\n\nimport Image from 'next/image';\nimport { forwardRef } from 'react';\nimport Timer from './Timer';\n\ninterface EntrySectionProps {\n  participationOptions: { id: string; amount: number; participants: string }[];\n  handleEnterRoom: (roomId: string) => void;\n  deadline: string | null;\n  globalRoundId: number | null;\n}\n\nconst EntrySection = forwardRef<HTMLDivElement, EntrySectionProps>(\n  ({ participationOptions, handleEnterRoom, deadline, globalRoundId }, ref) => {\n    return (\n      <div ref={ref} className=\"relative text-center\">\n        <div>\n          <div className=\"mx-auto flex h-14 w-full items-center justify-center bg-gradient-to-r from-[#3869A9] to-[#035ED5] shadow-[inset_0_4px_4px_0_rgba(0,0,0,0.25),0_1px_8.5px_0_rgba(0,0,0,0.73)]\">\n            <h2 className=\"text-2xl font-bold\">{globalRoundId ? `${globalRoundId}Ìöå` : '...'}</h2>\n          </div>\n          <div className=\"bg-[linear-gradient(#42529E,#3C509E,#3C509E80,#08369A00)] py-10\">\n            <span className=\"font-['Pretendard'] text-xl font-semibold leading-normal text-white [text-shadow:0_4px_4px_rgba(0,0,0,0.25)]\">2025.07.23</span>\n            <Timer \n              deadline={deadline}\n              containerClassName=\"flex justify-center items-center font-['LABDigital'] text-[64px] font-normal leading-normal text-[#2BF7FF]\"\n              digitClassName=\"w-20\"\n            />\n          </div>\n          \n          <div className=\"px-6 pb-8 md:px-12 lg:px-24\">\n            {/* Participation Options */}\n            <div className=\"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4\">\n              {participationOptions.map((option, index) => {\n                const fromColors = [\n                  \"from-[#25228A]\",     // Blue\n                  \"from-[#554671]\",     // Yellow\n                  \"from-[#26475F]\",     // Green\n                  \"from-[#491C51]\",     // Red\n                ];\n\n                const videos = [\n                  \"/icon_room_1.webm\",\n                  \"/icon_room_2.webm\", \n                  \"/icon_room_3.webm\",\n                  \"/icon_room_4.webm\"\n                ];\n\n                return (\n                  <div\n                    key={option.id}\n                    className={`rounded-[25px] bg-gradient-to-b from-white to-[#724444] p-[2px] shadow-[0_4px_6.7px_3px_rgba(0,0,0,0.25)]`}\n                  >\n                    <div\n                      className={`h-full w-full rounded-[23px] bg-gradient-to-b to-[#1E164F] p-6 shadow-[inset_0_4px_4px_0_rgba(0,0,0,0.25)] ${fromColors[index]}`}\n                    >\n                      <div className=\"text-left\">\n                        <p className=\"font-['Pretendard'] text-2xl font-bold leading-normal text-white [text-shadow:0_4px_4px_rgba(0,0,0,0.25)]\">USDT</p>\n                        <p className=\"mb-4 font-['Pretendard'] text-2xl font-bold leading-normal text-white [text-shadow:0_4px_4px_rgba(0,0,0,0.25)]\">{option.amount}</p>\n                        <div className=\"mx-auto mb-4 flex h-full w-full items-center justify-center rounded-full\">\n                          <video \n                            src={videos[index]} \n                            autoPlay \n                            loop \n                            muted \n                            playsInline \n                            className=\"h-auto w-2/3 md:w-full rounded-full object-cover\"\n                          />\n                        </div>\n                        <button\n                          onClick={() => handleEnterRoom(option.id)}\n                          className=\"mb-2 w-full rounded-lg bg-gradient-to-r from-[#323232] to-black py-2 px-6 font-['Pretendard'] text-base font-semibold leading-normal text-[#FC0] shadow-[inset_0_4px_4px_0_rgba(0,0,0,0.25),0_4px_4px_0_rgba(0,0,0,0.25)]\"\n                        >\n                          Ï∞∏Ïó¨ÌïòÍ∏∞\n                        </button>\n                        <p className=\"text-center font-['Pretendard'] text-2xl font-normal leading-normal text-[#FFE206]\">{option.participants} Î™Ö</p>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n);\n\nEntrySection.displayName = \"EntrySection\";\n\nexport default EntrySection;"],"names":[],"mappings":";;;;AAGA;AACA;AAJA;;;;AAaA,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAC5B,CAAC,EAAE,oBAAoB,EAAE,eAAe,EAAE,QAAQ,EAAE,aAAa,EAAE,EAAE;IACnE,qBACE,8OAAC;QAAI,KAAK;QAAK,WAAU;kBACvB,cAAA,8OAAC;;8BACC,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAG,WAAU;kCAAsB,gBAAgB,GAAG,cAAc,CAAC,CAAC,GAAG;;;;;;;;;;;8BAE5E,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAK,WAAU;sCAA+G;;;;;;sCAC/H,8OAAC,2HAAA,CAAA,UAAK;4BACJ,UAAU;4BACV,oBAAmB;4BACnB,gBAAe;;;;;;;;;;;;8BAInB,8OAAC;oBAAI,WAAU;8BAEb,cAAA,8OAAC;wBAAI,WAAU;kCACZ,qBAAqB,GAAG,CAAC,CAAC,QAAQ;4BACjC,MAAM,aAAa;gCACjB;gCACA;gCACA;gCACA;6BACD;4BAED,MAAM,SAAS;gCACb;gCACA;gCACA;gCACA;6BACD;4BAED,qBACE,8OAAC;gCAEC,WAAW,CAAC,yGAAyG,CAAC;0CAEtH,cAAA,8OAAC;oCACC,WAAW,CAAC,2GAA2G,EAAE,UAAU,CAAC,MAAM,EAAE;8CAE5I,cAAA,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAE,WAAU;0DAA4G;;;;;;0DACzH,8OAAC;gDAAE,WAAU;0DAAkH,OAAO,MAAM;;;;;;0DAC5I,8OAAC;gDAAI,WAAU;0DACb,cAAA,8OAAC;oDACC,KAAK,MAAM,CAAC,MAAM;oDAClB,QAAQ;oDACR,IAAI;oDACJ,KAAK;oDACL,WAAW;oDACX,WAAU;;;;;;;;;;;0DAGd,8OAAC;gDACC,SAAS,IAAM,gBAAgB,OAAO,EAAE;gDACxC,WAAU;0DACX;;;;;;0DAGD,8OAAC;gDAAE,WAAU;;oDAAsF,OAAO,YAAY;oDAAC;;;;;;;;;;;;;;;;;;+BAzBtH,OAAO,EAAE;;;;;wBA8BpB;;;;;;;;;;;;;;;;;;;;;;AAMZ;AAGF,aAAa,WAAW,GAAG;uCAEZ","debugId":null}},
    {"offset": {"line": 643, "column": 0}, "map": {"version":3,"sources":["file:///Users/sinseonghyeon/Documents/GitHub/01-blockchain-projects/maxpia-project/coin_lotto/frontend/src/components/SideMenu.tsx"],"sourcesContent":["'use client';\n\nimport Image from 'next/image';\n\ninterface SideMenuProps {\n  onOpenMyPage: () => void;\n  onOpenExplain: () => void;\n}\n\nconst SideMenu = ({ onOpenMyPage, onOpenExplain }: SideMenuProps) => (\n  <div className=\"fixed right-4 top-1/2 -translate-y-1/2 w-[80px] h-[200px] flex-shrink-0 rounded-[20px] bg-gradient-to-b from-[#FFF17E] to-[#1BE6FD] p-[1px] shadow-[0_4px_4px_0_rgba(0,0,0,0.25)] md:right-[1.67vw] md:w-[6vw] md:h-[28vh]\">\n    <aside className=\"w-full h-full rounded-[19px] bg-gradient-to-b from-[#311A1A] to-[#13399A] flex flex-col items-center justify-center space-y-4 md:space-y-[4vh]\">\n      <button onClick={onOpenExplain} className=\"flex flex-col items-center\">\n        <Image src=\"/icon_explain.svg\" alt=\"Game Explain\" width={48} height={48} className=\"w-8 h-8 md:w-10 md:h-10\" />\n        <span className=\"text-xs mt-1\">Í≤åÏûÑÏÑ§Î™Ö</span>\n      </button>\n      <button\n        onClick={onOpenMyPage}\n        className=\"flex flex-col items-center\"\n      >\n        <Image src=\"/icon_mypage.svg\" alt=\"My Page\" width={48} height={48} className=\"w-8 h-8 md:w-10 md:h-10\" />\n        <span className=\"text-xs mt-1\">ÎßàÏù¥ÌéòÏù¥ÏßÄ</span>\n      </button>\n    </aside>\n  </div>\n);\n\nexport default SideMenu; "],"names":[],"mappings":";;;;AAEA;AAFA;;;AASA,MAAM,WAAW,CAAC,EAAE,YAAY,EAAE,aAAa,EAAiB,iBAC9D,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAM,WAAU;;8BACf,8OAAC;oBAAO,SAAS;oBAAe,WAAU;;sCACxC,8OAAC,6HAAA,CAAA,UAAK;4BAAC,KAAI;4BAAoB,KAAI;4BAAe,OAAO;4BAAI,QAAQ;4BAAI,WAAU;;;;;;sCACnF,8OAAC;4BAAK,WAAU;sCAAe;;;;;;;;;;;;8BAEjC,8OAAC;oBACC,SAAS;oBACT,WAAU;;sCAEV,8OAAC,6HAAA,CAAA,UAAK;4BAAC,KAAI;4BAAmB,KAAI;4BAAU,OAAO;4BAAI,QAAQ;4BAAI,WAAU;;;;;;sCAC7E,8OAAC;4BAAK,WAAU;sCAAe;;;;;;;;;;;;;;;;;;;;;;;uCAMxB","debugId":null}},
    {"offset": {"line": 818, "column": 0}, "map": {"version":3,"sources":["file:///Users/sinseonghyeon/Documents/GitHub/01-blockchain-projects/maxpia-project/coin_lotto/frontend/src/components/MyPageModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { ethers } from 'ethers';\nimport vaultAbiJson from '../../../backend/smart-contract/artifacts/contracts/Vault.sol/Vault.json';\n\nconst API_BASE_URL = 'http://localhost:3001'; // This might need configuration\nconst VAULT_CONTRACT_ADDRESS = \"0x43aFfaE1C51B04e772E69EfDd0453B0dC89EC3E6\";\nconst USDT_CONTRACT_ADDRESS = \"0x337610d27c682E347C9cD60BD4b3b107C9d34dDd\"; \n// ABIs would ideally be managed better, e.g., loading from JSON files.\nconst vaultABI = vaultAbiJson.abi;\nconst usdtABI = [ \"function approve(address spender, uint256 amount) public returns (bool)\", \"function allowance(address owner, address spender) public view returns (uint256)\" ];\n\n// --- Type Definitions ---\ninterface Room {\n  id: string;\n  name: string;\n  ticketPrice: string;\n}\n\ninterface HistoryItem {\n    roundNumber: number;\n    roomName: string;\n    ticketPrice: string;\n    wasWinner: boolean;\n}\n\ninterface MyPageModalProps {\n    account: string;\n    onClose: () => void;\n}\n\n// --- Ï∂îÍ∞Ä Type Definition ---\ninterface Transaction {\n    type: 'DEPOSIT' | 'WITHDRAWAL' | 'PLAY' | 'WIN' | 'WITHDRAW_REQUEST' | 'WITHDRAW_COMPLETE';\n    amount: number;\n    timestamp: string;\n    related_round_id?: number;\n    tx_hash?: string;\n}\n\n// --- MyPage Modal Component ---\nconst MyPageModal = ({ account, onClose }: MyPageModalProps) => {\n    const [activeMainTab, setActiveMainTab] = useState('history'); // 'history' or 'wallet'\n    \n    // --- History Tab States ---\n    const [allHistory, setAllHistory] = useState<HistoryItem[]>([]);\n    const [rooms, setRooms] = useState<Room[]>([]);\n    const [activeRoomId, setActiveRoomId] = useState<string>('');\n    const [isLoadingHistory, setIsLoadingHistory] = useState(true);\n    const [historyError, setHistoryError] = useState<string | null>(null);\n\n    // --- Wallet Tab States ---\n    const [balance, setBalance] = useState<number>(0);\n    const [isLoadingBalance, setIsLoadingBalance] = useState(true);\n    const [activeWalletTab, setActiveWalletTab] = useState('deposit'); // 'deposit', 'withdraw', 'transactions'\n    const [transactions, setTransactions] = useState<Transaction[]>([]);\n    const [isLoadingTransactions, setIsLoadingTransactions] = useState(false);\n    const [amount, setAmount] = useState(''); // For deposit/withdraw input\n    const [isProcessing, setIsProcessing] = useState(false); // For transaction processing state\n    const [walletError, setWalletError] = useState<string | null>(null);\n\n\n    // Fetch user balance\n    useEffect(() => {\n        if (account && activeMainTab === 'wallet') {\n            const fetchBalance = async () => {\n                setIsLoadingBalance(true);\n                setWalletError(null);\n                try {\n                    const res = await fetch(`${API_BASE_URL}/balance/${account}`);\n                    if (!res.ok) throw new Error('Failed to fetch balance.');\n                    const data = await res.json();\n                    setBalance(data.balance);\n                } catch (err: any) {\n                    setWalletError(err.message);\n                } finally {\n                    setIsLoadingBalance(false);\n                }\n            };\n            fetchBalance();\n        }\n    }, [account, activeMainTab]);\n    \n    // Fetch user transaction history\n    useEffect(() => {\n        if (account && activeWalletTab === 'transactions') {\n            const fetchTransactions = async () => {\n                setIsLoadingTransactions(true);\n                // Assume a new endpoint /transactions/:address exists\n                // const res = await fetch(`${API_BASE_URL}/transactions/${account}`);\n                // const data = await res.json();\n                // setTransactions(data.transactions || []);\n                setIsLoadingTransactions(false);\n            };\n            // fetchTransactions();\n        }\n    }, [account, activeWalletTab]);\n\n    // Fetch game history\n    useEffect(() => {\n        if (!account || activeMainTab !== 'history') return;\n        \n        const fetchHistoryAndRooms = async () => {\n            setIsLoadingHistory(true);\n            setHistoryError(null);\n            try {\n                const [historyRes, roomsRes] = await Promise.all([\n                    fetch(`${API_BASE_URL}/user-history/${account}`),\n                    fetch(`${API_BASE_URL}/rooms`)\n                ]);\n\n                if (!historyRes.ok) throw new Error('Failed to fetch history.');\n                if (!roomsRes.ok) throw new Error('Failed to fetch rooms.');\n\n                const historyData = await historyRes.json();\n                const roomsData = await roomsRes.json();\n                \n                setAllHistory(historyData.history || []);\n                setRooms(roomsData || []);\n                if (roomsData.length > 0 && !activeRoomId) {\n                    setActiveRoomId(roomsData[0].id);\n                }\n\n            } catch (err: any) {\n                setHistoryError(err.message);\n            } finally {\n                setIsLoadingHistory(false);\n            }\n        };\n        fetchHistoryAndRooms();\n    }, [account, activeMainTab]);\n\n    const handleDeposit = async () => {\n        if (!amount || parseFloat(amount) <= 0) {\n            setWalletError(\"Please enter a valid amount.\");\n            return;\n        }\n        if (!window.ethereum) {\n            setWalletError(\"MetaMask is not installed.\");\n            return;\n        }\n\n        setIsProcessing(true);\n        setWalletError(null);\n\n        try {\n            const provider = new ethers.BrowserProvider(window.ethereum);\n            const signer = await provider.getSigner();\n            const usdtContract = new ethers.Contract(USDT_CONTRACT_ADDRESS, usdtABI, signer);\n            const vaultContract = new ethers.Contract(VAULT_CONTRACT_ADDRESS, vaultABI, signer);\n\n            const amountToDeposit = ethers.parseUnits(amount, 18); // Assuming USDT has 18 decimals\n\n            // 1. Approve\n            const approveTx = await usdtContract.approve(VAULT_CONTRACT_ADDRESS, amountToDeposit);\n            await approveTx.wait();\n\n            // 2. Deposit\n            const depositTx = await vaultContract.deposit(amountToDeposit);\n            await depositTx.wait();\n\n            alert(\"Deposit successful!\");\n            setAmount('');\n            // Refresh balance after a short delay to allow backend to process event\n            setTimeout(() => {\n                // Manually trigger refetch, ideally this uses a dedicated function\n                const fetchBalance = async () => {\n                    const res = await fetch(`${API_BASE_URL}/balance/${account}`);\n                    const data = await res.json();\n                    setBalance(data.balance);\n                };\n                fetchBalance();\n            }, 3000); \n\n        } catch (err: any) {\n            setWalletError(err.reason || \"An error occurred during deposit.\");\n        } finally {\n            setIsProcessing(false);\n        }\n    };\n    \n    const handleWithdrawRequest = async () => {\n        if (!amount || parseFloat(amount) <= 0) {\n            setWalletError(\"Please enter a valid amount.\");\n            return;\n        }\n        if (parseFloat(amount) > balance) {\n            setWalletError(\"Withdrawal amount cannot exceed your balance.\");\n            return;\n        }\n\n        setIsProcessing(true);\n        setWalletError(null);\n\n        try {\n            const res = await fetch(`${API_BASE_URL}/withdrawals/request`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ userAddress: account, amount: parseFloat(amount) })\n            });\n\n            const data = await res.json();\n\n            if (!res.ok) {\n                throw new Error(data.message || \"Failed to submit withdrawal request.\");\n            }\n\n            alert(\"Withdrawal request submitted successfully!\");\n            setBalance(data.newBalance);\n            setAmount('');\n\n        } catch (err: any) {\n            setWalletError(err.message);\n        } finally {\n            setIsProcessing(false);\n        }\n    };\n\n    const filteredHistory = allHistory.filter(item => {\n        const activeRoom = rooms.find(r => r.id === activeRoomId);\n        return activeRoom ? item.roomName.includes(activeRoom.name) : false;\n    });\n\n    return (\n        <div className=\"fixed inset-0 bg-[#FFFFFF80] flex justify-center items-center z-50\" onClick={onClose}>\n            <div className=\"bg-[linear-gradient(#000000,#1A255D)] rounded-3xl w-full max-w-2xl text-left shadow-xl flex flex-col\" onClick={(e) => e.stopPropagation()}>\n                {/* Header and Main Tabs */}\n                <div className='rounded-t-3xl flex justify-center items-center p-4 border-b border-gray-700 bg-gradient-to-r from-[#143892] to-[#0E369D] shadow-[0_4px_4px_0_rgba(0,0,0,0.25)]'>\n                    <span className=\"font-['Pretendard'] text-base font-bold leading-normal text-white\">ÎßàÏù¥ÌéòÏù¥ÏßÄ</span>\n                </div>\n                <div className=\"flex justify-between items-center p-4 border-gray-700\">\n                    <div className=\"flex gap-6\">\n                        <button onClick={() => setActiveMainTab('history')} className={`text-xl font-semibold pb-2 ${activeMainTab === 'history' ? 'text-white border-b-2 border-white' : 'text-gray-500 hover:text-white'}`}>\n                            History\n                        </button>\n                        <button onClick={() => setActiveMainTab('wallet')} className={`text-xl font-semibold pb-2 ${activeMainTab === 'wallet' ? 'text-white border-b-2 border-white' : 'text-gray-500 hover:text-white'}`}>\n                            Wallet\n                        </button>\n                    </div>\n                    {/* <button onClick={onClose} className=\"text-gray-400 hover:text-white text-3xl\">&times;</button> */}\n                </div>\n\n                {/* Content Area */}\n                <div className=\"p-6 h-[500px] overflow-y-auto\">\n                    {activeMainTab === 'history' && (\n                        <div>\n                            <div className=\"flex border-b border-gray-600 mb-4\">\n                                {rooms.map(room => (\n                                    <button\n                                        key={room.id}\n                                        onClick={() => setActiveRoomId(room.id)}\n                                        className={`py-2 px-4 font-semibold transition-colors duration-200 ${activeRoomId === room.id ? 'border-b-2 border-yellow-400 text-yellow-400' : 'text-gray-400 hover:text-white'}`}\n                                    >\n                                        {room.name}\n                                    </button>\n                                ))}\n                            </div>\n                            {isLoadingHistory ? <div className=\"w-8 h-8 border-4 border-yellow-400 border-t-transparent rounded-full animate-spin mx-auto my-4\"></div>\n                            : historyError ? <p className=\"text-red-500 text-center\">{historyError}</p>\n                            : filteredHistory.length > 0 ? (\n                                <ul className=\"space-y-3 pr-2\">\n                                    {filteredHistory.map((item, index) => (\n                                        <li key={index} className={`p-4 rounded-md flex justify-between items-center ${item.wasWinner ? 'bg-yellow-500 text-black' : 'bg-gray-700'}`}>\n                                            <div className=\"flex items-center gap-4\">\n                                                <span className=\"bg-black text-white text-center font-bold rounded-md px-3 py-2\">Round #{item.roundNumber}</span>\n                                                <div>\n                                                    <p className=\"font-semibold\">Winning # <span className=\"text-lg\">{item.roundNumber}</span></p> {/* Placeholder */}\n                                                </div>\n                                                <div>\n                                                    <p className=\"font-semibold\">My # <span className=\"text-lg\">{item.roundNumber}</span></p> {/* Placeholder */}\n                                                </div>\n                                            </div>\n                                            <span className=\"text-2xl font-bold\">{item.wasWinner ? 'WIN' : 'LOSE'}</span>\n                                        </li>\n                                    ))}\n                                </ul>\n                            ) : <p className=\"text-gray-500 text-center py-4\">No participation history for this room.</p>}\n                        </div>\n                    )}\n                    {activeMainTab === 'wallet' && (\n                        <div>\n                            {/* Balance Display */}\n                            <div className=\"mb-6\">\n                                <h3 className=\"text-lg text-gray-400 mb-2\">My Balance</h3>\n                                {isLoadingBalance ? (\n                                    <div className=\"h-10 bg-gray-700 rounded-md animate-pulse\"></div>\n                                ) : (\n                                    <p className=\"text-4xl font-bold text-yellow-400\">{balance.toFixed(4)} <span className=\"text-2xl text-gray-300\">USDT</span></p>\n                                )}\n                            </div>\n\n                            {/* Wallet Sub-tabs */}\n                            <div className=\"flex border-b border-gray-600 mb-4\">\n                                <button onClick={() => setActiveWalletTab('deposit')} className={`py-2 px-4 font-semibold transition-colors duration-200 ${activeWalletTab === 'deposit' ? 'border-b-2 border-yellow-400 text-yellow-400' : 'text-gray-400 hover:text-white'}`}>\n                                    Deposit\n                                </button>\n                                <button onClick={() => setActiveWalletTab('withdraw')} className={`py-2 px-4 font-semibold transition-colors duration-200 ${activeWalletTab === 'withdraw' ? 'border-b-2 border-yellow-400 text-yellow-400' : 'text-gray-400 hover:text-white'}`}>\n                                    Withdraw\n                                </button>\n                                <button onClick={() => setActiveWalletTab('transactions')} className={`py-2 px-4 font-semibold transition-colors duration-200 ${activeWalletTab === 'transactions' ? 'border-b-2 border-yellow-400 text-yellow-400' : 'text-gray-400 hover:text-white'}`}>\n                                    Transactions\n                                </button>\n                            </div>\n                            \n                            {walletError && <p className=\"text-red-500 text-center mb-4\">{walletError}</p>}\n\n                            {/* Deposit Form */}\n                            {activeWalletTab === 'deposit' && (\n                                <div className=\"space-y-4\">\n                                    <p className=\"text-gray-300\">Enter the amount of USDT to deposit from your wallet.</p>\n                                    <input type=\"number\" value={amount} onChange={e => setAmount(e.target.value)} placeholder=\"0.00\" className=\"w-full bg-gray-800 text-white p-3 rounded-md border border-gray-600 focus:outline-none focus:ring-2 focus:ring-yellow-400\" />\n                                    <button onClick={handleDeposit} disabled={isProcessing} className=\"w-full bg-yellow-500 text-black font-bold py-3 rounded-md hover:bg-yellow-400 disabled:bg-gray-500\">\n                                        {isProcessing ? 'Processing...' : 'Deposit USDT'}\n                                    </button>\n                                </div>\n                            )}\n\n                            {/* Withdraw Form */}\n                            {activeWalletTab === 'withdraw' && (\n                                <div className=\"space-y-4\">\n                                    <p className=\"text-gray-300\">Enter the amount to withdraw to your wallet.</p>\n                                    <input type=\"number\" value={amount} onChange={e => setAmount(e.target.value)} placeholder=\"0.00\" className=\"w-full bg-gray-800 text-white p-3 rounded-md border border-gray-600 focus:outline-none focus:ring-2 focus:ring-yellow-400\" />\n                                    <button onClick={handleWithdrawRequest} disabled={isProcessing} className=\"w-full bg-yellow-500 text-black font-bold py-3 rounded-md hover:bg-yellow-400 disabled:bg-gray-500\">\n                                        {isProcessing ? 'Processing...' : 'Request Withdraw'}\n                                    </button>\n                                </div>\n                            )}\n\n                            {/* Transaction List */}\n                            {activeWalletTab === 'transactions' && (\n                                <div>\n                                    {isLoadingTransactions ? <p>Loading transactions...</p> : <p>Transaction history will be shown here.</p>}\n                                </div>\n                            )}\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default MyPageModal; "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1425, "column": 0}, "map": {"version":3,"sources":["file:///Users/sinseonghyeon/Documents/GitHub/01-blockchain-projects/maxpia-project/coin_lotto/frontend/src/components/GameExplainModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Image from 'next/image';\n\ninterface GameExplainModalProps {\n    onClose: () => void;\n    onConnectWallet: () => void;\n}\n\nconst steps = [\n    {\n        id: 1,\n        title: 'USDT(BEP-20) ÏßÄÍ∞ëÏùÑ Ïó∞ÎèôÌïòÏÑ∏Ïöî.',\n        image: '/img_rule_1.svg'\n    },\n    { \n        id: 2, \n        title: 'ÏÑúÎπÑÏä§Î•º Ïù¥Ïö©ÌïòÍ∏∞ ÏúÑÌïú Ìè¨Ïù∏Ìä∏Î•º Ï∂©Ï†ÑÌï©ÎãàÎã§.',\n        image: '/img_rule_2.svg'\n    },\n    { \n        id: 3, \n        title: 'ÏõêÌïòÎäî Î∞©Ïóê Ï∞∏Í∞ÄÌïòÏó¨ Ìã∞ÏºìÏùÑ Íµ¨Îß§Ìï©ÎãàÎã§.',\n        image: '/img_rule_3.svg'\n    },\n    { \n        id: 4, \n        title: 'Îß§ 10Î∂ÑÎßàÎã§ ÏßÑÌñâÎêòÎäî Ï∂îÏ≤®ÏùÑ Í∏∞Îã§Î¶ΩÎãàÎã§.',\n        image: '/img_rule_4.svg'\n    },\n    { \n        id: 5, \n        title: 'ÎãπÏ≤® Ïãú Ìè¨Ïù∏Ìä∏Í∞Ä ÏßÄÍ∏âÎêòÎ©∞, Ïñ∏Ï†úÎì†ÏßÄ Ï∂úÍ∏à Í∞ÄÎä•Ìï©ÎãàÎã§.',\n        image: '/img_rule_5.svg'\n    },\n    { \n        id: 6, \n        title: 'Í≤åÏûÑ Í∑úÏπôÏùÑ ÌôïÏù∏ÌïòÏÑ∏Ïöî.',\n        image: '/img_rule_6.svg'\n    },\n    { \n        id: 7, \n        title: 'ÏïàÏ†ÑÌïú Í±∞ÎûòÎ•º ÏúÑÌïú Î≥¥Ïïà ÏÑ§Ï†ïÏùÑ ÏôÑÎ£åÌïòÏÑ∏Ïöî.',\n        image: '/img_rule_7.svg'\n    },\n    { \n        id: 8, \n        title: 'Í≥†Í∞ùÏßÄÏõê Î∞è Î¨∏ÏùòÏÇ¨Ìï≠ÏùÑ ÌôïÏù∏ÌïòÏÑ∏Ïöî.',\n        image: '/img_rule_8.svg'\n    },\n    { \n        id: 9, \n        title: 'Í≤åÏûÑÏùÑ ÏãúÏûëÌïòÍ≥† Ï¶êÍ∏∞ÏÑ∏Ïöî!',\n        image: '/img_rule_9.svg'\n    },\n];\n\nexport default function GameExplainModal({ onClose, onConnectWallet }: GameExplainModalProps) {\n    const [currentStep, setCurrentStep] = useState(0);\n\n    const handleNext = () => {\n        setCurrentStep(prev => (prev + 1) % steps.length);\n    };\n\n    const handlePrev = () => {\n        setCurrentStep(prev => (prev - 1 + steps.length) % steps.length);\n    };\n    \n    const handleConnect = () => {\n        onClose();\n        onConnectWallet();\n    }\n\n    const currentStepData = steps[currentStep];\n\n    return (\n        <div \n            className=\"fixed inset-0 bg-[#FFFFFF80] flex justify-center items-center z-50 p-4\"\n            onClick={onClose}\n        >\n            <div \n                className=\"bg-gradient-to-b from-[#000000] to-[#122676] w-full max-w-[580px] aspect-[580/816] rounded-lg border-8 border-[#1ACFF8] px-6 md:px-8 relative flex flex-col text-white font-sans max-h-[90vh] overflow-y-auto custom-scrollbar\"\n                onClick={e => e.stopPropagation()}\n            >\n                <h1 className=\"text-white font-['Pretendard'] mt-[8.6%] mb-[11.5%] text-2xl font-semibold leading-normal text-center\">Í≤åÏûÑ Î£∞ ÏÑ§Î™Ö</h1>\n                <h2 className=\"text-base md:text-lg text-center text-gray-300 mb-[7.5%] border-b border-cyan-400 pb-[1%]\">Ï∞∏Í∞Ä Î∞©Î≤ï</h2>\n                \n                <div className=\"mx-auto w-[75%] h-[75%] relative border-2 border-cyan-400 rounded-3xl flex flex-col items-center justify-center\">\n                    <div className=\"absolute top-0 left-8 -mt-px -ml-px bg-cyan-500 text-white px-4 py-1 text-lg font-bold\">\n                        {currentStepData.id}\n                    </div>\n                    <div className=\"\">\n                         <Image \n                             src={currentStepData.image}\n                             alt={`Rule ${currentStepData.id}`}\n                             width={500}\n                             height={300}\n                             className=\"mx-auto\"\n                         />\n                    </div>\n                </div>\n\n                <div className=\"flex justify-center items-center mt-6 md:mt-8\">\n                    <button onClick={handlePrev} className=\"text-cyan-400 text-3xl p-2\">\n                        ‚óÄ\n                    </button>\n                    <div className=\"flex gap-3 md:gap-4 mx-4 md:mx-6\">\n                        {steps.map((_, index) => (\n                            <div \n                                key={index}\n                                onClick={() => setCurrentStep(index)}\n                                className={`w-3 h-3 rounded-full cursor-pointer transition-all ${currentStep === index ? 'bg-cyan-400' : 'border-2 border-cyan-400'}`}\n                            />\n                        ))}\n                    </div>\n                    <button onClick={handleNext} className=\"text-cyan-400 text-3xl p-2\">\n                        ‚ñ∂\n                    </button>\n                </div>    \n            </div>\n        </div>\n    );\n} "],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAUA,MAAM,QAAQ;IACV;QACI,IAAI;QACJ,OAAO;QACP,OAAO;IACX;IACA;QACI,IAAI;QACJ,OAAO;QACP,OAAO;IACX;IACA;QACI,IAAI;QACJ,OAAO;QACP,OAAO;IACX;IACA;QACI,IAAI;QACJ,OAAO;QACP,OAAO;IACX;IACA;QACI,IAAI;QACJ,OAAO;QACP,OAAO;IACX;IACA;QACI,IAAI;QACJ,OAAO;QACP,OAAO;IACX;IACA;QACI,IAAI;QACJ,OAAO;QACP,OAAO;IACX;IACA;QACI,IAAI;QACJ,OAAO;QACP,OAAO;IACX;IACA;QACI,IAAI;QACJ,OAAO;QACP,OAAO;IACX;CACH;AAEc,SAAS,iBAAiB,EAAE,OAAO,EAAE,eAAe,EAAyB;IACxF,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,MAAM,aAAa;QACf,eAAe,CAAA,OAAQ,CAAC,OAAO,CAAC,IAAI,MAAM,MAAM;IACpD;IAEA,MAAM,aAAa;QACf,eAAe,CAAA,OAAQ,CAAC,OAAO,IAAI,MAAM,MAAM,IAAI,MAAM,MAAM;IACnE;IAEA,MAAM,gBAAgB;QAClB;QACA;IACJ;IAEA,MAAM,kBAAkB,KAAK,CAAC,YAAY;IAE1C,qBACI,8OAAC;QACG,WAAU;QACV,SAAS;kBAET,cAAA,8OAAC;YACG,WAAU;YACV,SAAS,CAAA,IAAK,EAAE,eAAe;;8BAE/B,8OAAC;oBAAG,WAAU;8BAAwG;;;;;;8BACtH,8OAAC;oBAAG,WAAU;8BAA4F;;;;;;8BAE1G,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAU;sCACV,gBAAgB,EAAE;;;;;;sCAEvB,8OAAC;4BAAI,WAAU;sCACV,cAAA,8OAAC,6HAAA,CAAA,UAAK;gCACF,KAAK,gBAAgB,KAAK;gCAC1B,KAAK,CAAC,KAAK,EAAE,gBAAgB,EAAE,EAAE;gCACjC,OAAO;gCACP,QAAQ;gCACR,WAAU;;;;;;;;;;;;;;;;;8BAKvB,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAO,SAAS;4BAAY,WAAU;sCAA6B;;;;;;sCAGpE,8OAAC;4BAAI,WAAU;sCACV,MAAM,GAAG,CAAC,CAAC,GAAG,sBACX,8OAAC;oCAEG,SAAS,IAAM,eAAe;oCAC9B,WAAW,CAAC,mDAAmD,EAAE,gBAAgB,QAAQ,gBAAgB,4BAA4B;mCAFhI;;;;;;;;;;sCAMjB,8OAAC;4BAAO,SAAS;4BAAY,WAAU;sCAA6B;;;;;;;;;;;;;;;;;;;;;;;AAOxF","debugId":null}},
    {"offset": {"line": 1611, "column": 0}, "map": {"version":3,"sources":["file:///Users/sinseonghyeon/Documents/GitHub/01-blockchain-projects/maxpia-project/coin_lotto/frontend/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Header from '@/components/Header';\nimport WinnerInfoBar from '@/components/WinnerInfoBar';\nimport EntrySection from '@/components/EntrySection';\nimport SideMenu from '@/components/SideMenu';\nimport MyPageModal from '@/components/MyPageModal';\nimport GameExplainModal from '@/components/GameExplainModal';\n\n// --- Type Definitions ---\ndeclare global {\n  interface Window {\n    ethereum?: any;\n  }\n}\n\n// --- Main Page Component ---\nexport default function MainPage() {\n  const [account, setAccount] = useState<string | null>(null);\n  const [balance, setBalance] = useState(0);\n  const [isMyPageVisible, setIsMyPageVisible] = useState(false);\n  const [isExplainModalVisible, setIsExplainModalVisible] = useState(false);\n  const [mainDeadline, setMainDeadline] = useState<string | null>(null);\n  const [mainGlobalRoundId, setMainGlobalRoundId] = useState<number | null>(null);\n  const router = useRouter();\n  const entrySectionRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    // Fetch the deadline and round ID for a default room to show a general countdown.\n    const fetchMainData = async () => {\n      try {\n        // We'll use room '1' as the reference for the main page timer.\n        const response = await fetch(`http://localhost:3001/lottery-status/1`);\n        if (response.ok) {\n          const data = await response.json();\n          setMainGlobalRoundId(data.globalRoundId);\n          if (data.status === 'OPEN') {\n            setMainDeadline(data.deadline);\n          } else {\n            setMainDeadline(null);\n          }\n        }\n      } catch (error) {\n        console.error(\"Failed to fetch main data:\", error);\n      }\n    };\n\n    fetchMainData();\n    // Refresh timer data periodically\n    const interval = setInterval(fetchMainData, 10000); // every 10 seconds\n    return () => clearInterval(interval);\n  }, []);\n\n  // Fetch balance whenever account changes\n  useEffect(() => {\n    if (account) {\n      const fetchBalance = async () => {\n        try {\n          const response = await fetch(`http://localhost:3001/balance/${account}`);\n          if (response.ok) {\n            const data = await response.json();\n            setBalance(data.balance);\n          } else {\n            setBalance(0);\n          }\n        } catch (error) {\n          console.error(\"Failed to fetch balance:\", error);\n          setBalance(0);\n        }\n      };\n      fetchBalance();\n    } else {\n      setBalance(0);\n    }\n  }, [account]);\n\n  const handleEnterRoom = (roomId: string) => {\n    router.push(`/room/${roomId}`);\n  };\n\n  const connectWallet = async () => {\n    // If account already exists, scroll to entry section\n    if (account) {\n      entrySectionRef.current?.scrollIntoView({ behavior: 'smooth' });\n      return;\n    }\n\n    // If no account, proceed with connection logic\n    if (typeof window.ethereum !== 'undefined') {\n      try {\n        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n        setAccount(accounts[0]);\n      } catch (err) {\n        console.error('Failed to connect wallet.', err);\n      }\n    } else {\n      alert('Please install MetaMask.');\n    }\n  };\n\n  const handleOpenMyPage = () => {\n    if (account) {\n      setIsMyPageVisible(true);\n    } else {\n      alert('Please connect your wallet first.');\n    }\n  };\n\n  useEffect(() => {\n    const handleAccountsChanged = (accounts: string[]) => {\n      setAccount(accounts.length > 0 ? accounts[0] : null);\n    };\n\n    if (window.ethereum) {\n      window.ethereum.on('accountsChanged', handleAccountsChanged);\n      // Check for existing accounts on initial load\n      (async () => {\n        const accounts = await window.ethereum.request({ method: 'eth_accounts' });\n        handleAccountsChanged(accounts);\n      })();\n\n      return () => {\n        // Clean up the event listener\n        if (window.ethereum.removeListener) {\n          window.ethereum.removeListener('accountsChanged', handleAccountsChanged);\n        }\n      };\n    }\n  }, []);\n\n  const participationOptions = [\n    { id: '1', amount: 1, participants: '1,144,999' },\n    { id: '2', amount: 10, participants: '1,144,999' },\n    { id: '3', amount: 50, participants: '1,144,999' },\n    { id: '4', amount: 100, participants: '1,144,999' },\n  ];\n\n  return (\n    <div className=\"bg-[#1a1a2e] min-h-screen text-white font-sans bg-[url('/bg.png')] bg-[length:100%_100%] bg-fixed\">\n      <Header account={account} balance={balance} connectWallet={connectWallet} />\n\n      <main>\n        <WinnerInfoBar />\n        <div>\n          <EntrySection \n            ref={entrySectionRef} \n            participationOptions={participationOptions} \n            handleEnterRoom={handleEnterRoom}\n            deadline={mainDeadline} \n            globalRoundId={mainGlobalRoundId}\n          />\n        </div>\n      </main>\n\n      <SideMenu onOpenMyPage={handleOpenMyPage} onOpenExplain={() => setIsExplainModalVisible(true)} />\n\n      {isMyPageVisible && account && (\n        <MyPageModal \n            account={account} \n            onClose={() => setIsMyPageVisible(false)} \n        />\n      )}\n\n      {isExplainModalVisible && (\n        <GameExplainModal \n          onClose={() => setIsExplainModalVisible(false)}\n          onConnectWallet={connectWallet}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}